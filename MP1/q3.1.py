import numpy as np
import powerlaw
import matplotlib.pyplot as plt
from scipy.stats import lognorm
from scipy.stats import kde

datain = [6956, 65156, 45200, 3963056, 2160830, 1515269, 204561, 1533418, 110463, 1165, 72614, 321190, 3555, 136564, 99982, 12438, 36688, 4724, 52329, 158176, 6494512, 120032, 8768, 32669, 388405, 50960, 34061, 3332, 611758, 16167, 224, 67750, 38376, 821, 48752, 49638, 52314, 121982, 120865, 36861, 1491, 29376, 3359, 62005, 2479807, 117564, 373034, 313077, 1283, 500415, 51114, 7264, 32867, 13233, 704929, 17424, 811805, 60654, 10687, 2450530, 88098, 3175300, 1767339, 274373, 1281, 33543, 538, 11301229, 176, 1077988, 18015, 11830, 13870, 96293, 271666, 13462, 126129, 31693, 90544, 190765, 90389, 18150, 77107, 10953, 7916, 215161, 50482, 658168, 14, 36256, 1032, 128879, 2655993, 140268, 30797, 1416068, 11757, 19964, 7574328, 223629, 3345746, 291234, 16882, 754529, 970, 619803, 33799, 223237, 821791, 539578, 3849311, 37238, 4909631, 255538, 238924, 412661, 82780, 10796, 30983, 1756, 29358, 8614, 234963, 228782, 17683, 24177, 10292, 86755, 286274, 5050872, 1, 445222, 4726736, 107524, 144033, 549, 82654, 243789, 12020931, 292380, 903049, 3, 1, 3267, 729, 38198, 1489405, 858843, 535, 1907481, 1, 13206, 2175516, 3321, 9538, 20696, 5017553, 11507, 190948, 314870, 3075, 103459, 4208, 38928, 22347, 746024, 10792, 1763238, 5691, 2452800, 3497, 160035, 3760, 182620, 6469, 773869, 32306, 113392, 106374, 113491, 125481, 795411, 295383, 616, 5439, 250, 14122, 16947, 4963972, 24889, 991877, 100288, 222141, 146589, 3766990, 2231204, 23123, 13770, 34705, 10837, 63341, 154856, 44754, 67559, 105831, 3674482, 12991, 2179765, 104450, 490043, 104934, 49466, 3, 536, 4162413, 1516744, 91119, 99886, 9198, 1195884, 152005, 20439, 99705, 13886, 2685164, 27165, 5073589, 1878092, 716632, 15335, 31621, 1505305, 32414, 6308, 79644, 7192, 106668, 755060, 1108, 14303, 2228414, 871491, 5251, 1400946, 108684, 22267, 780, 5400340, 150900, 295728, 3188, 131951, 1476, 25003, 28013, 12597, 27825, 951107, 44582, 53915, 963503, 140728, 35527, 227901, 961052, 370458, 10562404, 2026, 290913, 71551, 43946, 22322, 15177, 855373, 344209, 2194328, 138860, 680182, 26373, 32342, 964715, 68004, 3601896, 3213, 43168, 408987, 20600, 353376, 5, 1962984, 124304, 442028, 796, 2866765, 26130, 5491596, 1495, 41636, 20725, 896015, 35285, 375, 50211, 44086, 279078, 12501, 4151167, 2506, 3692, 308513, 16397, 94487, 41496, 36862, 20884, 2, 27253, 92, 7, 69718, 444282, 84894, 13231, 721254, 36491, 310789, 49305, 243504, 35906, 128376, 23539, 108807, 4, 2049905, 533, 133098, 163362, 172177, 2097, 17321, 3675204, 6169795, 1445987, 161553, 3601, 2, 22564]
datain.sort()
print(datain)


data = datain
density = kde.gaussian_kde(data)
x = np.linspace(min(datain),max(datain),300)
y = density(x)

plt.plot(x,y)
plt.title("Density Plot of the data")
plt.show()

"""
p = 1. * np.arange(len(datain)) / (len(datain)-1)
p = [1-i for i in p]
x = np.log10(datain)                         
y = np.log10(p)                          
plt.plot(x,y)




# powerlaw CCDF
fig, ax = plt.subplots(1, 1)

model = powerlaw.Fit(datain)
model.plot_ccdf(ax=ax, color= 'b',linestyle='dotted',label='PowerLaw CCDF')
plt.legend()

# lognorm
s = 0.954
rv = lognorm(s)
ax.plot(datain, lognorm.sf(datain, s), 'k-', lw=2, label='LogNormal ccdf')
plt.legend()


plt.show()"""